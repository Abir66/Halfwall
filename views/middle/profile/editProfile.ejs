<style>
.edit-form input, select {
  width: 270px;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
}



.form-group{
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: medium;
    background-color: transparent;
}
.container-edit{
    padding: 12px 12px 12px 12px;
}
.btn-block{
    width: 100%;
    margin-top: 15px;;
}
.hidden_message-edit{
    color : red;
}


</style>

<div class="post">
    <div class="container-edit">
        <h1>Edit Profile</h1>
        <form class = "edit-form" id="edit-form"> <!-- action="/user/editProfile" method="post" >  newsfee.js's /edit action="/newsfeed/editProfile" method="post" -->
            <div class="form-group"">
                <label for="name">Name</label>
                <input type="text" name="name" id="edit-profile-name" value="<%- currentUser.NAME %>" required>
            </div>
            <div class="form-group"">
                <label for="student_id">Student Id</label>
                <input type="number" name="student_id" id="edit-profile-student_id" value="<%- currentUser.STUDENT_ID %>" required>
            </div>
            <div class="form-group"">
                <label for="email">Email</label>
                <input type="email" name="email" id="edit-profile-email" value="<%- currentUser.EMAIL %>" required>
            </div>
            <div class="form-group"">
                <label for="dof">Date of Birth</label>
                <%let date = [null]; if(currentUser.DATE_OF_BIRTH !== null) {dates=currentUser.DATE_OF_BIRTH.toISOString(); date=dates.split('T');}%>
                <input type="date" name="dof" id="edit-profile-dof" value="<%= date[0]%>">
            </div>
            <div class="form-group"">
                <label for="hall">Hall</label>
                <select name="hall" id="edit-profile-hall">
                    <option value="" disable hidden <% if(currentUser.HALL === null){ %>selected<% } %> ></option>
                    <option value="SHUHRAWARDY" <% if(currentUser.HALL === 'SHUHRAWARDY'){ %>selected<% } %>  >Suhrawardy hall</option>
                    <option value="SHER-E-BANGLA" <% if(currentUser.HALL === 'SHER-E-BANGLA'){ %>selected<% } %> >Sher-e-Bangla hall</option>
                    <option value="Ahsanullah" <% if(currentUser.HALL === 'AHSANULLAH'){ %>selected<% } %> >Ahsanullah hall</option>
                    <option value= "CHAATTRI" <% if(currentUser.HALL === 'CHAATTRI'){ %>selected<% } %>>Chattri hall</option>
                    <option value="Nazrul" <% if(currentUser.HALL === 'KAZI NAZRUL'){ %>selected<% } %>>Kazi Nazrul hall</option>
                    <option value="TITUMIR" <% if(currentUser.HALL === 'TITUMIR'){ %>selected<% } %>>Titumir hall</option>
                    <option value="RASHID" <% if(currentUser.HALL === 'RASHID'){ %>selected<% } %>>Rashid hall</option>
                </select>
            </div>
            <div class="form-group">
                <label for="attachment">Attachment</label>
                <select name="attachment" id="edit-profile-attachment">
                    <option value="" disable hidden <% if(currentUser.HALL_ATTACHMENT === null){ %>selected<% } %> ></option>
                    <option value="R" <% if(currentUser. HALL_ATTACHMENT == 'R'){ %>selected<% } %> >Resident</option>
                    <option value="A" <% if(currentUser. HALL_ATTACHMENT == 'A'){ %>selected<% } %>>Attached</option> 
                </select>
            </div>
            <div class="form-group">
                <label for="street">Street</label>
                <input type="text" name="street" id="edit-profile-street" value="<%- currentUser.STREET %> ">
            </div>
            <div class="form-group">
                <label for="city">City</label>
                <input type="text" name="city" id="edit-profile-city"  value="<%- currentUser.CITY %>">
            </div>
            <div class="form-group">
                <label for="postcode">Post Code</label>
                <input type="number" name="postcode" id="edit-profile-postcode" value="<%- currentUser.POSTCODE %>" >
            </div>
            <div class="form-group">
                <label for="edit-profile-new-password">New password</label>
                <input type="password" name="new-password" id="edit-profile-new-password" onchange="onPasswordChange()">
            </div>
            <div class="form-group">
                <label for="edit-profile-confirm-password">Confirm New password</label>
                <input type="password" name="confirm-password" id="edit-profile-confirm-password" onchange="onPasswordChange()">
            </div>
            <hr>
            <div class="form-group">
                <label for="edit-profile-current-password">Current password</label>
                <input type="password" name="current-password" id="edit-profile-current-password" required>
            </div>
            <p class="hidden_message" id="edit-profile-hidden_message"></p>
            <div id="edit-no-success">

            </div>
            <button id="edit-profile-editProfile" class="btn btn-primary btn-block" type="submit" name="submit">Save</button>
        </form>
    </div>

        
     
    <script>
        const edit = document.getElementById('edit-form');
        edit.addEventListener('submit',function(e){
            e.preventDefault();
            editProfile(<%- currentUser.USER_ID %>);
        });
    </script>

    <script src="/js/profile/editProfile.js"></script>
</div>