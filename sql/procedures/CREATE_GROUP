CREATE OR REPLACE PROCEDURE "CREATE_GROUP" (NEW_GROUP_NAME IN VARCHAR2, NEW_ADMIN_ID IN NUMBER, NEW_DESCRIPTION IN VARCHAR2, NEW_COVER_PHOTO IN VARCHAR2, NEW_GROUP_PRIVACY IN VARCHAR2, RESULT OUT VARCHAR2, R_GROUP_ID OUT NUMBER)
AS
	NEW_GROUP_ID NUMBER;
BEGIN
	NEW_GROUP_ID := GROUP_SEQ.NEXTVAL;
	INSERT INTO GROUPS (GROUP_ID, GROUP_NAME, GROUP_PRIVACY, GROUP_DESCRIPTION, COVER_PHOTO, TIME_OF_CREATION)
	VALUES (NEW_GROUP_ID, NEW_GROUP_NAME, NEW_GROUP_PRIVACY, NEW_DESCRIPTION, NEW_COVER_PHOTO, CURRENT_TIMESTAMP);
	
	INSERT INTO GROUP_MEMBERS(GROUP_ID, USER_ID, TIMESTAMP, STATUS)
	VALUES(NEW_GROUP_ID, NEW_ADMIN_ID, CURRENT_TIMESTAMP, 'ADMIN');
	RESULT := 'success';
	R_GROUP_ID := NEW_GROUP_ID;

EXCEPTION
    WHEN OTHERS THEN
        RESULT := 'please enter the fields correctly';
END;